<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mathematics Lesson: Affine Functions â€“ Part V</title>
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/icons/icon-96x96.png">
    <link rel="apple-touch-icon" href="assets/icons/icon-192x192.png">
    <!-- Theme Color -->
    <meta name="theme-color" content="#27AE60" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#E67E22" media="(prefers-color-scheme: dark)">
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Mathematics Hub">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="msapplication-TileColor" content="#27AE60">
    <!-- KaTeX CSS -->
    <link rel="stylesheet" href="styles/katex.min.css">
    <!-- Styles -->
    <link rel="stylesheet" href="styles/common.css">
    <style>
        /* Fresh palette â€“ Green & Orange (same as Part IV) */
        :root {
            --primary: #27AE60;
            --primary-light: #6FCF97;
            --primary-dark: #1E8449;
            --secondary: #E67E22;
            --secondary-light: #F39C12;
            --secondary-dark: #D35400;
            --accent: #3498DB;
            --warning: #E74C3C;
            --info: #2ECC71;
            --text: #333333;
            --text-light: #666666;
            --background: #FFFFFF;
            --surface: #F8F9FA;
            --border: #E9ECEF;
            --shadow: rgba(0, 0, 0, 0.1);
        }
        [data-theme="dark"] {
            --primary: #1E8449;
            --primary-light: #27AE60;
            --primary-dark: #145A32;
            --secondary: #D35400;
            --secondary-light: #E67E22;
            --secondary-dark: #A04000;
            --accent: #5DADE2;
            --warning: #C0392B;
            --info: #27AE60;
            --text: #FFFFFF;
            --text-light: #CCCCCC;
            --background: #121212;
            --surface: #1E1E1E;
            --border: #333333;
            --shadow: rgba(0, 0, 0, 0.3);
        }
        .katex { font-size: 1.1em; }
        .MH-equation {
            font-family: inherit;
            font-size: 1.1em;
            color: var(--primary-dark);
            margin: 0.5em 0;
            padding: 0.3em 0.8em;
            background: rgba(39, 174, 96, 0.05);
            border-left: 4px solid var(--primary);
            border-radius: 4px;
            display: inline-block;
        }
        .MH-canvas-container { margin: 2em 0; text-align: center; }
        .MH-canvas {
            border: 2px solid var(--border);
            border-radius: 8px;
            background-color: var(--surface);
            max-width: 100%;
            box-shadow: 0 4px 6px var(--shadow);
        }
        .MH-canvas-title { font-weight: bold; margin-bottom: 0.5em; color: var(--primary); }
        .MH-canvas-instructions { font-size: 0.9em; color: var(--text-light); margin-top: 0.5em; font-style: italic; }
        .MH-construction-step {
            margin: 1.5em 0;
            padding: 1em;
            background-color: var(--surface);
            border-left: 4px solid var(--secondary);
            border-radius: 4px;
        }
        .MH-construction-step h4 { margin-top: 0; color: var(--secondary-dark); }
        .MH-solution {
            display: none;
            margin-top: 1em;
            padding: 1.2em;
            background: var(--surface);
            border-radius: 8px;
            border-left: 6px solid var(--secondary);
            color: var(--text);
            box-shadow: 0 2px 8px var(--shadow);
        }
        .MH-solution-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.2s;
            margin-right: 0.5em;
        }
        .MH-solution-btn:hover { background-color: var(--secondary-dark); }
        .MH-exercise-number {
            font-size: 1.4em;
            font-weight: bold;
            color: var(--primary-dark);
            margin: 1.5em 0 0.5em 0;
            border-bottom: 3px solid var(--primary-light);
            padding-bottom: 0.3em;
        }
        .MH-important { background: rgba(39, 174, 96, 0.1); padding: 1em; border-radius: 8px; margin: 1em 0; }
        .MH-step { margin-left: 1em; }
        @media (max-width: 768px) { .MH-canvas { max-width: 100%; height: auto; } }
    </style>
</head>
<body>
    <header>
        <div class="MH-header-grid">
            <div class="MH-header-column MH-header-icon">
                <a href="index.html" class="MH-logo-link" data-tooltip>
                    <img src="assets/icons/icon-96x96.png" alt="Mathematics Hub Logo" class="MH-logo-image">
                </a>
            </div>
            <div class="MH-header-column MH-header-title">
                <div class="MH-logo" data-i18n="MH.general.title">Mathematics Hub</div>
            </div>
            <div class="MH-header-column MH-header-options">
                <div class="MH-header-controls">
                    <button class="MH-theme-toggle" id="themeToggle">
                        <span data-i18n="MH.general.theme">Theme</span>
                        <span>ğŸŒ™</span>
                    </button>
                    <div class="MH-language-selector">
                        <button class="MH-language-btn" id="languageBtn">
                            <span data-i18n="MH.general.language">Language</span>
                            <span>â–¼</span>
                        </button>
                        <div class="MH-language-dropdown" id="languageDropdown">
                            <a href="#" class="MH-language-option" data-lang="en">English</a>
                            <a href="#" class="MH-language-option" data-lang="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a>
                            <a href="#" class="MH-language-option" data-lang="fr">FranÃ§ais</a>
                        </div>
                    </div>
                    <button class="MH-notification-btn" id="notificationBtn" style="display: none;">
                        <span data-i18n="MH.general.enableNotifications">Enable Notifications</span>
                        <span>ğŸ””</span>
                    </button>
                </div>
            </div>
        </div>
    </header>
    <main id="main-content" class="MH-container" tabindex="-1">
        <h1 class="MH-lesson-title" data-i18n="MH.lesson_Y1Alg_fonAff5.title">Affine Functions: Part V</h1>
        <h2 class="MH-lesson-subtitle" data-i18n="MH.lesson_Y1Alg_fonAff5.subtitle">Deepening â€“ squares, cubes, square roots â†’ affine</h2>
        
        <section class="MH-section">
            <h2 class="MH-section-title" data-i18n="MH.lesson_Y1Alg_fonAff5.introduction">Introduction</h2>
            <p data-i18n="MH.lesson_Y1Alg_fonAff5.introText1">In this fifth part, we continue to discover affine functions hidden inside more elaborate expressions: differences of squares, cubes that cancel the quadratic term, and square roots that become simple lines. Every calculation is explained step by step, as if we were doing it together. No shortcuts â€“ we want you to understand each transformation.</p>
            <p data-i18n="MH.lesson_Y1Alg_fonAff5.introText2">We will also solve equations and inequalities, and see how these functions appear in everyday situations. Take your time; the solutions are extremely detailed.</p>
        </section>

        <!-- ============== EXERCISE 1 ============== -->
        <section class="MH-section">
            <div class="MH-exercise-number" data-i18n="MH.lesson_Y1Alg_fonAff5.ex1.title">IX. Exercise 1 â€“ Difference of two squares</div>
            <div class="MH-important">
                <p data-i18n="MH.lesson_Y1Alg_fonAff5.ex1.statement">Let \(f(x) = (x+5)^2 - (x-3)^2\).<br>
                1) Expand both squares and simplify. Show that \(f\) is an affine function (write it as \(ax+b\)).<br>
                2) What are the slope and the yâ€‘intercept?<br>
                3) Draw the graph of \(f\) for \(x\) between \(-4\) and \(2\).<br>
                4) Solve algebraically: \(f(x) = 10\). Also check graphically.</p>
            </div>
            <div class="MH-canvas-container">
                <div class="MH-canvas-title" data-i18n="MH.lesson_Y1Alg_fonAff5.ex1.canvasTitle">Figure 1: Graph of f(x) = (x+5)Â² â€“ (x-3)Â² = 16x+16</div>
                <canvas id="ex1Canvas" width="600" height="400" class="MH-canvas"></canvas>
                <div class="MH-canvas-instructions" data-i18n="MH.lesson_Y1Alg_fonAff5.ex1.canvasInstructions">Line y = 16x+16, slope 16, intercept 16. Intersection with y=10 marked.</div>
            </div>
            <div class="MH-step">
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex1.q1">1) Expand and simplify f(x)</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex1_sol1')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex1_sol1" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex1.q2">2) Slope and intercept</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex1_sol2')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex1_sol2" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex1.q3">3) Graph</h4>
                    <button class="MH-solution-btn" onclick="constructExercise1()" data-i18n="MH.lesson_Y1Alg_fonAff5.showConstruction">Show Construction</button>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex1.q4">4) Solve f(x) = 10</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex1_sol4')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex1_sol4" class="MH-solution"></div>
                </div>
            </div>
        </section>

        <!-- ============== EXERCISE 2 ============== -->
        <section class="MH-section">
            <div class="MH-exercise-number" data-i18n="MH.lesson_Y1Alg_fonAff5.ex2.title">IX. Exercise 2 â€“ Square roots that become lines</div>
            <div class="MH-important">
                <p data-i18n="MH.lesson_Y1Alg_fonAff5.ex2.statement">Consider the two functions:<br>
                \(g(x) = \sqrt{(4x+8)^2}\) for \(x \ge -2\) &nbsp;&nbsp; and &nbsp;&nbsp; \(h(x) = \sqrt{(9-3x)^2}\) for \(x \le 3\).<br>
                1) Simplify \(g(x)\) and \(h(x)\). Are they affine? Write each as \(ax+b\).<br>
                2) Solve \(g(x) = 12\) and \(h(x) = 6\).<br>
                3) Draw the two lines on the same graph (for appropriate \(x\) ranges).<br>
                4) For which \(x\) do we have \(g(x) = h(x)\)?</p>
            </div>
            <div class="MH-canvas-container">
                <div class="MH-canvas-title" data-i18n="MH.lesson_Y1Alg_fonAff5.ex2.canvasTitle">Figure 2: g(x)=4x+8 (xâ‰¥â€“2) ; h(x)=9â€“3x (xâ‰¤3)</div>
                <canvas id="ex2Canvas" width="600" height="400" class="MH-canvas"></canvas>
                <div class="MH-canvas-instructions" data-i18n="MH.lesson_Y1Alg_fonAff5.ex2.canvasInstructions">Intersection at x = 0.2 ; g(0.2)=8.8, h(0.2)=8.4? Wait, solve 4x+8 = 9-3x â†’ 7x=1 â†’ xâ‰ˆ0.1429. Let's mark correctly.</div>
            </div>
            <div class="MH-step">
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex2.q1">1) Simplify g and h</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex2_sol1')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex2_sol1" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex2.q2">2) Solve equations</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex2_sol2')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex2_sol2" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex2.q3">3) Draw the lines</h4>
                    <button class="MH-solution-btn" onclick="constructExercise2()" data-i18n="MH.lesson_Y1Alg_fonAff5.showConstruction">Show Construction</button>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex2.q4">4) Solve g(x) = h(x)</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex2_sol4')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex2_sol4" class="MH-solution"></div>
                </div>
            </div>
        </section>

        <!-- ============== EXERCISE 3 ============== -->
        <section class="MH-section">
            <div class="MH-exercise-number" data-i18n="MH.lesson_Y1Alg_fonAff5.ex3.title">IX. Exercise 3 â€“ A cube that simplifies</div>
            <div class="MH-important">
                <p data-i18n="MH.lesson_Y1Alg_fonAff5.ex3.statement">Let \(p(x) = (2x+1)^3 - 8x^3 - 12x^2\).<br>
                1) Expand \((2x+1)^3\) carefully, then subtract \(8x^3\) and \(12x^2\). Show that only an affine part remains.<br>
                2) Write \(p(x)\) as \(ax+b\). What are \(a\) and \(b\)?<br>
                3) Solve \(p(x) = 7\).<br>
                4) Draw the graph of \(p\) for \(x\) between \(-2\) and \(2\) and verify your solution.</p>
            </div>
            <div class="MH-canvas-container">
                <div class="MH-canvas-title" data-i18n="MH.lesson_Y1Alg_fonAff5.ex3.canvasTitle">Figure 3: p(x) = 6x+1 (affine!)</div>
                <canvas id="ex3Canvas" width="600" height="400" class="MH-canvas"></canvas>
                <div class="MH-canvas-instructions" data-i18n="MH.lesson_Y1Alg_fonAff5.ex3.canvasInstructions">Line y = 6x+1, slope 6, intercept 1. Intersection with y=7 at x=1.</div>
            </div>
            <div class="MH-step">
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex3.q1">1) Expand and simplify</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex3_sol1')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex3_sol1" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex3.q2">2) Affine form, a, b</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex3_sol2')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex3_sol2" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex3.q3">3) Solve p(x)=7</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex3_sol3')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex3_sol3" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex3.q4">4) Graph</h4>
                    <button class="MH-solution-btn" onclick="constructExercise3()" data-i18n="MH.lesson_Y1Alg_fonAff5.showConstruction">Show Construction</button>
                </div>
            </div>
        </section>

        <!-- ============== EXERCISE 4 ============== -->
        <section class="MH-section">
            <div class="MH-exercise-number" data-i18n="MH.lesson_Y1Alg_fonAff5.ex4.title">IX. Exercise 4 â€“ Two lines, intersection and comparison</div>
            <div class="MH-important">
                <p data-i18n="MH.lesson_Y1Alg_fonAff5.ex4.statement">We define \(f(x) = (3x+2)^2 - (3x-2)^2\) and \(g(x) = (x+4)^2 - (x-4)^2\).<br>
                1) Simplify each function. Verify they are affine.<br>
                2) Find the coordinates of the intersection point of the two lines.<br>
                3) Solve the inequality \(f(x) \ge g(x)\). Interpret on a graph.</p>
            </div>
            <div class="MH-canvas-container">
                <div class="MH-canvas-title" data-i18n="MH.lesson_Y1Alg_fonAff5.ex4.canvasTitle">Figure 4: f(x)=24x , g(x)=16x</div>
                <canvas id="ex4Canvas" width="600" height="400" class="MH-canvas"></canvas>
                <div class="MH-canvas-instructions" data-i18n="MH.lesson_Y1Alg_fonAff5.ex4.canvasInstructions">Both pass through origin. f steeper. f â‰¥ g for x â‰¥ 0.</div>
            </div>
            <div class="MH-step">
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex4.q1">1) Simplify f and g</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex4_sol1')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex4_sol1" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex4.q2">2) Intersection</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex4_sol2')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex4_sol2" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex4.q3">3) Solve f(x) â‰¥ g(x)</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex4_sol3')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex4_sol3" class="MH-solution"></div>
                </div>
                <button class="MH-solution-btn" onclick="constructExercise4()" data-i18n="MH.lesson_Y1Alg_fonAff5.showConstruction">Show Construction</button>
            </div>
        </section>

        <!-- ============== EXERCISE 5 ============== -->
        <section class="MH-section">
            <div class="MH-exercise-number" data-i18n="MH.lesson_Y1Alg_fonAff5.ex5.title">IX. Exercise 5 â€“ Real life: garden and pool</div>
            <div class="MH-important">
                <p data-i18n="MH.lesson_Y1Alg_fonAff5.ex5.statement">A rectangular garden is a square of side \(x+3\) meters. Inside there is a square pool of side \(x\) meters. The rest is lawn.<br>
                1) Express the lawn area \(A(x)\) in expanded form. Simplify: it becomes an affine function.<br>
                2) What are the slope and the vertical intercept? What do they mean?<br>
                3) The owner wants a lawn area of at least 50 mÂ². Solve \(A(x) \ge 50\) and give the smallest possible side of the pool (to one decimal).<br>
                4) Draw the graph of \(A(x)\) for \(0 \le x \le 10\) and highlight the solution set.</p>
            </div>
            <div class="MH-canvas-container">
                <div class="MH-canvas-title" data-i18n="MH.lesson_Y1Alg_fonAff5.ex5.canvasTitle">Figure 5: Lawn area A(x) = 6x+9</div>
                <canvas id="ex5Canvas" width="600" height="400" class="MH-canvas"></canvas>
                <div class="MH-canvas-instructions" data-i18n="MH.lesson_Y1Alg_fonAff5.ex5.canvasInstructions">Line with slope 6, intercept 9. Area â‰¥ 50 when x â‰¥ 6.833.</div>
            </div>
            <div class="MH-step">
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex5.q1">1) Simplify A(x)</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex5_sol1')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex5_sol1" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex5.q2">2) Slope, intercept, meaning</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex5_sol2')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex5_sol2" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex5.q3">3) Solve A(x) â‰¥ 50</h4>
                    <button class="MH-solution-btn" onclick="toggleSolution('ex5_sol3')" data-i18n="MH.lesson_Y1Alg_fonAff5.showSolution">Show Solution</button>
                    <div id="ex5_sol3" class="MH-solution"></div>
                </div>
                <div class="MH-construction-step">
                    <h4 data-i18n="MH.lesson_Y1Alg_fonAff5.ex5.q4">4) Graph and highlight</h4>
                    <button class="MH-solution-btn" onclick="constructExercise5()" data-i18n="MH.lesson_Y1Alg_fonAff5.showConstruction">Show Construction</button>
                </div>
            </div>
        </section>

        <section class="MH-section">
            <h2 class="MH-section-title" data-i18n="MH.lesson_Y1Alg_fonAff5.summary">Summary â€“ what we learned</h2>
            <div class="MH-important">
                <ul>
                    <li data-i18n="MH.lesson_Y1Alg_fonAff5.summary1">\((x+a)^2 - (x+b)^2\) simplifies to \(2(a-b)x + (a^2-b^2)\) â†’ affine.</li>
                    <li data-i18n="MH.lesson_Y1Alg_fonAff5.summary2">\(\sqrt{(\text{linear})^2}\) becomes \(|\text{linear}|\); with a domain it can become a pure linear (affine) function.</li>
                    <li data-i18n="MH.lesson_Y1Alg_fonAff5.summary3">A cleverly chosen cubic can also hide an affine part: \((2x+1)^3 - 8x^3 -12x^2 = 6x+1\).</li>
                    <li data-i18n="MH.lesson_Y1Alg_fonAff5.summary4">Two affine lines intersect at one point (unless parallel). Comparison: f â‰¥ g corresponds to x on one side of the intersection.</li>
                    <li data-i18n="MH.lesson_Y1Alg_fonAff5.summary5">Real situations (area, profit) often lead to such hidden affine functions â€“ the slope tells the increase per unit.</li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <div class="MH-footer-content">
            <div class="MH-footer-column">
                <div class="MH-footer-title" data-i18n="MH.footer.developer">Developer</div>
                <div class="MH-footer-text">Mejri Ziad</div>
            </div>
            <div class="MH-footer-column">
                <div class="MH-footer-title" data-i18n="MH.footer.version">Version</div>
                <div class="MH-footer-text">v0.0.1</div>
            </div>
            <div class="MH-footer-column">
                <div class="MH-footer-title" data-i18n="MH.footer.links">Links</div>
                <div class="MH-footer-links">
                    <a href="#" class="MH-footer-link" data-i18n="MH.footer.terms">Terms of Use</a>
                    <a href="#" class="MH-footer-link" data-i18n="MH.footer.privacy">Privacy Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="scripts/katex.min.js"></script>
    <script src="scripts/auto-render.min.js"></script>
    <script src="scripts/geometry.js"></script>
    <script src="scripts/translation2.js"></script>
    <script>
        // =========================================================================
        // COMPLETE TRANSLATION OBJECT (EN, AR, FR) with String.raw for LaTeX
        // =========================================================================
        const fonAff5Translations = {
            en: {
                'MH.general.title': 'Mathematics Hub',
                'MH.general.theme': 'Theme',
                'MH.general.language': 'Language',
                'MH.general.enableNotifications': 'Enable Notifications',
                'MH.lesson_Y1Alg_fonAff5.showSolution': 'Show Solution',
                'MH.lesson_Y1Alg_fonAff5.hideSolution': 'Hide Solution',
                'MH.lesson_Y1Alg_fonAff5.showConstruction': 'Show Construction',
                'MH.lesson_Y1Alg_fonAff5.title': 'Affine Functions: Part V',
                'MH.lesson_Y1Alg_fonAff5.subtitle': 'Deepening â€“ squares, cubes, square roots â†’ affine',
                'MH.lesson_Y1Alg_fonAff5.introduction': 'Introduction',
                'MH.lesson_Y1Alg_fonAff5.introText1': 'In this fifth part, we continue to discover affine functions hidden inside more elaborate expressions: differences of squares, cubes that cancel the quadratic term, and square roots that become simple lines. Every calculation is explained step by step, as if we were doing it together. No shortcuts â€“ we want you to understand each transformation.',
                'MH.lesson_Y1Alg_fonAff5.introText2': 'We will also solve equations and inequalities, and see how these functions appear in everyday situations. Take your time; the solutions are extremely detailed.',
                // Exercise 1
                'MH.lesson_Y1Alg_fonAff5.ex1.title': 'IX. Exercise 1 â€“ Difference of two squares',
                'MH.lesson_Y1Alg_fonAff5.ex1.statement': 'Let \\(f(x) = (x+5)^2 - (x-3)^2\\).<br>1) Expand both squares and simplify. Show that \\(f\\) is an affine function (write it as \\(ax+b\\)).<br>2) What are the slope and the yâ€‘intercept?<br>3) Draw the graph of \\(f\\) for \\(x\\) between \\(-4\\) and \\(2\\).<br>4) Solve algebraically: \\(f(x) = 10\\). Also check graphically.',
                'MH.lesson_Y1Alg_fonAff5.ex1.canvasTitle': 'Figure 1: Graph of f(x) = (x+5)Â² â€“ (x-3)Â² = 16x+16',
                'MH.lesson_Y1Alg_fonAff5.ex1.canvasInstructions': 'Line y = 16x+16, slope 16, intercept 16. Intersection with y=10 marked.',
                'MH.lesson_Y1Alg_fonAff5.ex1.q1': '1) Expand and simplify f(x)',
                'MH.lesson_Y1Alg_fonAff5.ex1.q2': '2) Slope and intercept',
                'MH.lesson_Y1Alg_fonAff5.ex1.q3': '3) Graph',
                'MH.lesson_Y1Alg_fonAff5.ex1.q4': '4) Solve f(x) = 10',
                // Exercise 2
                'MH.lesson_Y1Alg_fonAff5.ex2.title': 'IX. Exercise 2 â€“ Square roots that become lines',
                'MH.lesson_Y1Alg_fonAff5.ex2.statement': 'Consider the two functions:<br>\\(g(x) = \\sqrt{(4x+8)^2}\\) for \\(x \\ge -2\\) &nbsp;&nbsp; and &nbsp;&nbsp; \\(h(x) = \\sqrt{(9-3x)^2}\\) for \\(x \\le 3\\).<br>1) Simplify \\(g(x)\\) and \\(h(x)\\). Are they affine? Write each as \\(ax+b\\).<br>2) Solve \\(g(x) = 12\\) and \\(h(x) = 6\\).<br>3) Draw the two lines on the same graph (for appropriate \\(x\\) ranges).<br>4) For which \\(x\\) do we have \\(g(x) = h(x)\\)?',
                'MH.lesson_Y1Alg_fonAff5.ex2.canvasTitle': 'Figure 2: g(x)=4x+8 (xâ‰¥â€“2) ; h(x)=9â€“3x (xâ‰¤3)',
                'MH.lesson_Y1Alg_fonAff5.ex2.canvasInstructions': 'Intersection at x = 1/7 â‰ˆ 0.1429, y â‰ˆ 8.571.',
                'MH.lesson_Y1Alg_fonAff5.ex2.q1': '1) Simplify g and h',
                'MH.lesson_Y1Alg_fonAff5.ex2.q2': '2) Solve equations',
                'MH.lesson_Y1Alg_fonAff5.ex2.q3': '3) Draw the lines',
                'MH.lesson_Y1Alg_fonAff5.ex2.q4': '4) Solve g(x) = h(x)',
                // Exercise 3
                'MH.lesson_Y1Alg_fonAff5.ex3.title': 'IX. Exercise 3 â€“ A cube that simplifies',
                'MH.lesson_Y1Alg_fonAff5.ex3.statement': 'Let \\(p(x) = (2x+1)^3 - 8x^3 - 12x^2\\).<br>1) Expand \\((2x+1)^3\\) carefully, then subtract \\(8x^3\\) and \\(12x^2\\). Show that only an affine part remains.<br>2) Write \\(p(x)\\) as \\(ax+b\\). What are \\(a\\) and \\(b\\)?<br>3) Solve \\(p(x) = 7\\).<br>4) Draw the graph of \\(p\\) for \\(x\\) between \\(-2\\) and \\(2\\) and verify your solution.',
                'MH.lesson_Y1Alg_fonAff5.ex3.canvasTitle': 'Figure 3: p(x) = 6x+1 (affine!)',
                'MH.lesson_Y1Alg_fonAff5.ex3.canvasInstructions': 'Line y = 6x+1, slope 6, intercept 1. Intersection with y=7 at x=1.',
                'MH.lesson_Y1Alg_fonAff5.ex3.q1': '1) Expand and simplify',
                'MH.lesson_Y1Alg_fonAff5.ex3.q2': '2) Affine form, a, b',
                'MH.lesson_Y1Alg_fonAff5.ex3.q3': '3) Solve p(x)=7',
                'MH.lesson_Y1Alg_fonAff5.ex3.q4': '4) Graph',
                // Exercise 4
                'MH.lesson_Y1Alg_fonAff5.ex4.title': 'IX. Exercise 4 â€“ Two lines, intersection and comparison',
                'MH.lesson_Y1Alg_fonAff5.ex4.statement': 'We define \\(f(x) = (3x+2)^2 - (3x-2)^2\\) and \\(g(x) = (x+4)^2 - (x-4)^2\\).<br>1) Simplify each function. Verify they are affine.<br>2) Find the coordinates of the intersection point of the two lines.<br>3) Solve the inequality \\(f(x) \\ge g(x)\\). Interpret on a graph.',
                'MH.lesson_Y1Alg_fonAff5.ex4.canvasTitle': 'Figure 4: f(x)=24x , g(x)=16x',
                'MH.lesson_Y1Alg_fonAff5.ex4.canvasInstructions': 'Both pass through origin. f steeper. f â‰¥ g for x â‰¥ 0.',
                'MH.lesson_Y1Alg_fonAff5.ex4.q1': '1) Simplify f and g',
                'MH.lesson_Y1Alg_fonAff5.ex4.q2': '2) Intersection',
                'MH.lesson_Y1Alg_fonAff5.ex4.q3': '3) Solve f(x) â‰¥ g(x)',
                // Exercise 5
                'MH.lesson_Y1Alg_fonAff5.ex5.title': 'IX. Exercise 5 â€“ Real life: garden and pool',
                'MH.lesson_Y1Alg_fonAff5.ex5.statement': 'A rectangular garden is a square of side \\(x+3\\) meters. Inside there is a square pool of side \\(x\\) meters. The rest is lawn.<br>1) Express the lawn area \\(A(x)\\) in expanded form. Simplify: it becomes an affine function.<br>2) What are the slope and the vertical intercept? What do they mean?<br>3) The owner wants a lawn area of at least 50 mÂ². Solve \\(A(x) \\ge 50\\) and give the smallest possible side of the pool (to one decimal).<br>4) Draw the graph of \\(A(x)\\) for \\(0 \\le x \\le 10\\) and highlight the solution set.',
                'MH.lesson_Y1Alg_fonAff5.ex5.canvasTitle': 'Figure 5: Lawn area A(x) = 6x+9',
                'MH.lesson_Y1Alg_fonAff5.ex5.canvasInstructions': 'Line with slope 6, intercept 9. Area â‰¥ 50 when x â‰¥ 6.833.',
                'MH.lesson_Y1Alg_fonAff5.ex5.q1': '1) Simplify A(x)',
                'MH.lesson_Y1Alg_fonAff5.ex5.q2': '2) Slope, intercept, meaning',
                'MH.lesson_Y1Alg_fonAff5.ex5.q3': '3) Solve A(x) â‰¥ 50',
                'MH.lesson_Y1Alg_fonAff5.ex5.q4': '4) Graph and highlight',
                // Summary
                'MH.lesson_Y1Alg_fonAff5.summary': 'Summary â€“ what we learned',
                'MH.lesson_Y1Alg_fonAff5.summary1': '\\((x+a)^2 - (x+b)^2\\) simplifies to \\(2(a-b)x + (a^2-b^2)\\) â†’ affine.',
                'MH.lesson_Y1Alg_fonAff5.summary2': '\\sqrt{(\\text{linear})^2} becomes |linear|; with a domain it can become a pure linear (affine) function.',
                'MH.lesson_Y1Alg_fonAff5.summary3': 'A cleverly chosen cubic can also hide an affine part: \\((2x+1)^3 - 8x^3 -12x^2 = 6x+1\\).',
                'MH.lesson_Y1Alg_fonAff5.summary4': 'Two affine lines intersect at one point (unless parallel). Comparison: f â‰¥ g corresponds to x on one side of the intersection.',
                'MH.lesson_Y1Alg_fonAff5.summary5': 'Real situations (area, profit) often lead to such hidden affine functions â€“ the slope tells the increase per unit.',
                // Footer
                'MH.footer.developer': 'Developer',
                'MH.footer.version': 'Version',
                'MH.footer.links': 'Links',
                'MH.footer.terms': 'Terms of Use',
                'MH.footer.privacy': 'Privacy Policy',
                // ========= DETAILED SOLUTIONS (beginner-friendly, String.raw) =========
                'MH.lesson_Y1Alg_fonAff5.ex1.sol1': String.raw`<strong>Solution 1 â€“ Simplification:</strong><br>\((x+5)^2 = (x+5)(x+5) = x^2 + 5x + 5x + 25 = x^2 + 10x + 25\).<br>\((x-3)^2 = (x-3)(x-3) = x^2 - 3x - 3x + 9 = x^2 - 6x + 9\).<br>Now subtract: \(f(x) = (x^2+10x+25) - (x^2-6x+9) = x^2+10x+25 - x^2 + 6x - 9\).<br>The \(x^2\) cancels: \(10x+6x = 16x\) and \(25-9=16\). So \(f(x)=16x+16\).<br>This is of the form \(ax+b\) with \(a=16, b=16\) â†’ affine function.`,
                'MH.lesson_Y1Alg_fonAff5.ex1.sol2': String.raw`<strong>Solution 2 â€“ Slope and intercept:</strong><br>For \(f(x)=16x+16\), the slope (coefficient of \(x\)) is \(16\). The yâ€‘intercept (constant term) is \(16\). It means the line crosses the yâ€‘axis at (0,16).`,
                'MH.lesson_Y1Alg_fonAff5.ex1.sol4': String.raw`<strong>Solution 4 â€“ Solve f(x)=10:</strong><br>\(16x+16 = 10\) â†’ subtract 16 from both sides: \(16x = -6\) â†’ divide by 16: \(x = -\frac{6}{16} = -\frac{3}{8} = -0.375\).<br>Graphically: draw horizontal line y=10, it meets the line at \(x \approx -0.38\).`,
                'MH.lesson_Y1Alg_fonAff5.ex2.sol1': String.raw`<strong>Solution 1 â€“ Simplify g and h:</strong><br>\(\sqrt{(4x+8)^2} = |4x+8|\). Domain \(x \ge -2\) â‡’ \(4x+8 \ge 0\) â‡’ \(|4x+8| = 4x+8\). So \(g(x)=4x+8\), affine (slope 4, intercept 8).<br>\(\sqrt{(9-3x)^2} = |9-3x|\). Domain \(x \le 3\) â‡’ \(9-3x \ge 0\) â‡’ \(|9-3x| = 9-3x\). So \(h(x)=9-3x\), affine (slope -3, intercept 9).`,
                'MH.lesson_Y1Alg_fonAff5.ex2.sol2': String.raw`<strong>Solution 2 â€“ Solve equations:</strong><br>\(g(x)=12\) â†’ \(4x+8=12\) â†’ \(4x=4\) â†’ \(x=1\) (1 â‰¥ -2, ok).<br>\(h(x)=6\) â†’ \(9-3x=6\) â†’ \(-3x = -3\) â†’ \(x=1\) (1 â‰¤ 3, ok).`,
                'MH.lesson_Y1Alg_fonAff5.ex2.sol4': String.raw`<strong>Solution 4 â€“ Solve g(x) = h(x):</strong><br>Set \(4x+8 = 9-3x\) â†’ \(4x+3x = 9-8\) â†’ \(7x = 1\) â†’ \(x = \frac{1}{7} \approx 0.1429\).<br>Check domains: \(0.1429 \ge -2\) and \(\le 3\) âœ“. Then \(y = 4\cdot\frac17+8 = \frac47+8 = \frac{4+56}{7}= \frac{60}{7}\approx 8.571\).`,
                'MH.lesson_Y1Alg_fonAff5.ex3.sol1': String.raw`<strong>Solution 1 â€“ Expand and simplify:</strong><br>\((2x+1)^3 = (2x)^3 + 3\cdot(2x)^2\cdot1 + 3\cdot(2x)\cdot1^2 + 1^3\) (binomial formula).<br>= \(8x^3 + 3\cdot4x^2\cdot1 + 6x + 1 = 8x^3 + 12x^2 + 6x + 1\).<br>Now \(p(x) = (8x^3+12x^2+6x+1) - 8x^3 - 12x^2\).<br>Cancel \(8x^3\) and \(12x^2\): we get \(6x+1\). So \(p(x)=6x+1\).`,
                'MH.lesson_Y1Alg_fonAff5.ex3.sol2': String.raw`<strong>Solution 2 â€“ Affine form:</strong><br>\(p(x)=6x+1\) is affine: \(a=6\) (slope), \(b=1\) (intercept).`,
                'MH.lesson_Y1Alg_fonAff5.ex3.sol3': String.raw`<strong>Solution 3 â€“ Solve p(x)=7:</strong><br>\(6x+1 = 7\) â†’ \(6x = 6\) â†’ \(x = 1\).`,
                'MH.lesson_Y1Alg_fonAff5.ex4.sol1': String.raw`<strong>Solution 1 â€“ Simplify f and g:</strong><br>\(f(x) = (3x+2)^2 - (3x-2)^2 = (9x^2+12x+4) - (9x^2-12x+4) = 9x^2+12x+4-9x^2+12x-4 = 24x\).<br>\(g(x) = (x+4)^2 - (x-4)^2 = (x^2+8x+16) - (x^2-8x+16) = x^2+8x+16-x^2+8x-16 = 16x\).<br>Both are affine (actually linear through origin).`,
                'MH.lesson_Y1Alg_fonAff5.ex4.sol2': String.raw`<strong>Solution 2 â€“ Intersection:</strong><br>\(f(x)=g(x)\) â‡’ \(24x = 16x\) â‡’ \(8x = 0\) â‡’ \(x = 0\). Then \(y = 24\cdot0 = 0\). Point \((0,0)\).`,
                'MH.lesson_Y1Alg_fonAff5.ex4.sol3': String.raw`<strong>Solution 3 â€“ Inequality f(x) â‰¥ g(x):</strong><br>\(24x \ge 16x\) â‡’ \(24x - 16x \ge 0\) â‡’ \(8x \ge 0\) â‡’ \(x \ge 0\).<br>On the graph, for \(x \ge 0\) the line f (steeper) is above or on g.`,
                'MH.lesson_Y1Alg_fonAff5.ex5.sol1': String.raw`<strong>Solution 1 â€“ Lawn area:</strong><br>Big square area: \((x+3)^2 = x^2 + 6x + 9\). Pool area: \(x^2\).<br>Lawn area \(A(x) = (x^2+6x+9) - x^2 = 6x + 9\). Affine function.`,
                'MH.lesson_Y1Alg_fonAff5.ex5.sol2': String.raw`<strong>Solution 2 â€“ Slope and intercept:</strong><br>Slope = 6, intercept = 9. Interpretation: each additional meter of pool side increases lawn area by 6 mÂ²; when pool side is 0, lawn area is 9 mÂ² (the border around a nonâ€‘existent pool).`,
                'MH.lesson_Y1Alg_fonAff5.ex5.sol3': String.raw`<strong>Solution 3 â€“ Solve A(x) â‰¥ 50:</strong><br>\(6x+9 \ge 50\) â‡’ \(6x \ge 41\) â‡’ \(x \ge \frac{41}{6} \approx 6.833\).<br>Smallest pool side: about 6.8 m (to one decimal: 6.8 m, but if we need whole meters then 7 m).`,
            },
            ar: {
                // Arabic translations â€“ complete set (keys same as English, values in Arabic)
                'MH.general.title': 'Ù…Ø±ÙƒØ² Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª',
                'MH.general.theme': 'Ø§Ù„Ø³Ù…Ø©',
                'MH.general.language': 'Ø§Ù„Ù„ØºØ©',
                'MH.general.enableNotifications': 'ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª',
                'MH.lesson_Y1Alg_fonAff5.showSolution': 'Ø¹Ø±Ø¶ Ø§Ù„Ø­Ù„',
                'MH.lesson_Y1Alg_fonAff5.hideSolution': 'Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø­Ù„',
                'MH.lesson_Y1Alg_fonAff5.showConstruction': 'Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡',
                'MH.lesson_Y1Alg_fonAff5.title': 'Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ¢Ù„ÙÙŠØ©: Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø®Ø§Ù…Ø³',
                'MH.lesson_Y1Alg_fonAff5.subtitle': 'ØªØ¹Ù…ÙŠÙ‚ â€“ Ù…Ø±Ø¨Ø¹Ø§ØªØŒ Ù…ÙƒØ¹Ø¨Ø§ØªØŒ Ø¬Ø°ÙˆØ± ØªØ±Ø¨ÙŠØ¹ÙŠØ© â† ØªØ¢Ù„ÙÙŠ',
                'MH.lesson_Y1Alg_fonAff5.introduction': 'Ù…Ù‚Ø¯Ù…Ø©',
                'MH.lesson_Y1Alg_fonAff5.introText1': 'ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø®Ø§Ù…Ø³ØŒ Ù†ÙˆØ§ØµÙ„ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ¢Ù„ÙÙŠØ© Ø§Ù„Ù…Ø®Ø¨Ø£Ø© ÙÙŠ ØªØ¹Ø¨ÙŠØ±Ø§Øª Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ø§Ù‹: ÙØ±Ù‚ Ù…Ø±Ø¨Ø¹ÙŠÙ†ØŒ Ù…ÙƒØ¹Ø¨Ø§Øª ØªÙ„ØºÙŠ Ø§Ù„Ø­Ø¯ Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØŒ ÙˆØ¬Ø°ÙˆØ± ØªØ±Ø¨ÙŠØ¹ÙŠØ© ØªØµØ¨Ø­ Ù…Ø³ØªÙ‚ÙŠÙ…Ø§Øª Ø¨Ø³ÙŠØ·Ø©. ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© Ø­Ø³Ø§Ø¨ÙŠØ© Ù…Ø´Ø±ÙˆØ­Ø© Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©. Ù„Ø§ Ø§Ø®ØªØµØ§Ø±Ø§Øª â€“ Ù†Ø±ÙŠØ¯Ùƒ Ø£Ù† ØªÙÙ‡Ù… ÙƒÙ„ ØªØ­ÙˆÙŠÙ„.',
                'MH.lesson_Y1Alg_fonAff5.introText2': 'Ø³Ù†Ø­Ù„ Ø£ÙŠØ¶Ø§Ù‹ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª ÙˆÙ…ØªØ±Ø§Ø¬Ø­Ø§ØªØŒ ÙˆÙ†Ø±Ù‰ ÙƒÙŠÙ ØªØ¸Ù‡Ø± Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆØ§Ù„ ÙÙŠ Ù…ÙˆØ§Ù‚Ù ÙŠÙˆÙ…ÙŠØ©. Ø®Ø° ÙˆÙ‚ØªÙƒØ› Ø§Ù„Ø­Ù„ÙˆÙ„ Ù…ÙØµÙ„Ø© Ø¬Ø¯Ø§Ù‹.',
                // Exercise 1
                'MH.lesson_Y1Alg_fonAff5.ex1.title': 'ØªØ§Ø³Ø¹Ø§Ù‹: ØªÙ…Ø±ÙŠÙ† 1 â€“ ÙØ±Ù‚ Ù…Ø±Ø¨Ø¹ÙŠÙ†',
                'MH.lesson_Y1Alg_fonAff5.ex1.statement': 'Ù„ØªÙƒÙ† \\(f(x) = (x+5)^2 - (x-3)^2\\).<br>1) Ø§Ù†Ø´Ø± Ø§Ù„Ù…Ø±Ø¨Ø¹ÙŠÙ† ÙˆØ¨Ø³Ø·. Ø¨ÙŠÙ‘Ù† Ø£Ù† \\(f\\) Ø¯Ø§Ù„Ø© ØªØ¢Ù„ÙÙŠØ© (Ø§ÙƒØªØ¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø´ÙƒÙ„ \\(ax+b\\)).<br>2) Ù…Ø§ Ù‡Ù…Ø§ Ø§Ù„Ù…ÙŠÙ„ ÙˆØªÙ‚Ø§Ø·Ø¹ yØŸ<br>3) Ø§Ø±Ø³Ù… ØªÙ…Ø«ÙŠÙ„ \\(f\\) Ù„Ù€ \\(x\\) Ø¨ÙŠÙ† -4 Ùˆ2.<br>4) Ø­Ù„ Ø¬Ø¨Ø±ÙŠØ§Ù‹: \\(f(x) = 10\\). ÙˆØªØ­Ù‚Ù‚ Ø¨ÙŠØ§Ù†ÙŠØ§Ù‹.',
                'MH.lesson_Y1Alg_fonAff5.ex1.canvasTitle': 'Ø§Ù„Ø´ÙƒÙ„ 1: ØªÙ…Ø«ÙŠÙ„ f(x) = (x+5)Â² â€“ (x-3)Â² = 16x+16',
                'MH.lesson_Y1Alg_fonAff5.ex1.canvasInstructions': 'Ù…Ø³ØªÙ‚ÙŠÙ… y = 16x+16ØŒ Ù…ÙŠÙ„Ù‡ 16ØŒ ÙˆØªÙ‚Ø§Ø·Ø¹ y = 16. Ø§Ù„ØªÙ‚Ø§Ø·Ø¹ Ù…Ø¹ y=10 Ù…Ø­Ø¯Ø¯.',
                'MH.lesson_Y1Alg_fonAff5.ex1.q1': '1) Ø§Ù†Ø´Ø± ÙˆØ¨Ø³Ø· f(x)',
                'MH.lesson_Y1Alg_fonAff5.ex1.q2': '2) Ø§Ù„Ù…ÙŠÙ„ ÙˆØ§Ù„ØªÙ‚Ø§Ø·Ø¹',
                'MH.lesson_Y1Alg_fonAff5.ex1.q3': '3) Ø§Ù„ØªÙ…Ø«ÙŠÙ„',
                'MH.lesson_Y1Alg_fonAff5.ex1.q4': '4) Ø­Ù„ f(x)=10',
                // Exercise 2
                'MH.lesson_Y1Alg_fonAff5.ex2.title': 'ØªØ§Ø³Ø¹Ø§Ù‹: ØªÙ…Ø±ÙŠÙ† 2 â€“ Ø¬Ø°ÙˆØ± ØªØ±Ø¨ÙŠØ¹ÙŠØ© ØªØµØ¨Ø­ Ù…Ø³ØªÙ‚ÙŠÙ…Ø§Øª',
                'MH.lesson_Y1Alg_fonAff5.ex2.statement': 'Ù†Ø¹ØªØ¨Ø± Ø§Ù„Ø¯Ø§Ù„ØªÙŠÙ†:<br>\\(g(x) = \\sqrt{(4x+8)^2}\\) Ù…Ù† Ø£Ø¬Ù„ \\(x \\ge -2\\) &nbsp;&nbsp; Ùˆ &nbsp;&nbsp; \\(h(x) = \\sqrt{(9-3x)^2}\\) Ù…Ù† Ø£Ø¬Ù„ \\(x \\le 3\\).<br>1) Ø¨Ø³Ø· \\(g(x)\\) Ùˆ \\(h(x)\\). Ù‡Ù„ Ù‡Ù…Ø§ ØªØ¢Ù„ÙÙŠØªØ§Ù†ØŸ Ø§ÙƒØªØ¨ ÙƒÙ„ Ù…Ù†Ù‡Ù…Ø§ Ø¹Ù„Ù‰ Ø´ÙƒÙ„ \\(ax+b\\).<br>2) Ø­Ù„ \\(g(x) = 12\\) Ùˆ \\(h(x) = 6\\).<br>3) Ø§Ø±Ø³Ù… Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ…ÙŠÙ† Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ù…Ø¹Ù„Ù… (Ø¨Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨).<br>4) Ù…Ù† Ø£Ø¬Ù„ Ø£ÙŠ \\(x\\) ÙŠÙƒÙˆÙ† \\(g(x) = h(x)\\)ØŸ',
                'MH.lesson_Y1Alg_fonAff5.ex2.canvasTitle': 'Ø§Ù„Ø´ÙƒÙ„ 2: g(x)=4x+8 (xâ‰¥â€“2) ; h(x)=9â€“3x (xâ‰¤3)',
                'MH.lesson_Y1Alg_fonAff5.ex2.canvasInstructions': 'Ø§Ù„ØªÙ‚Ø§Ø·Ø¹ Ø¹Ù†Ø¯ x = 1/7 â‰ˆ 0.1429ØŒ y â‰ˆ 8.571',
                'MH.lesson_Y1Alg_fonAff5.ex2.q1': '1) Ø¨Ø³Ø· g Ùˆ h',
                'MH.lesson_Y1Alg_fonAff5.ex2.q2': '2) Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª',
                'MH.lesson_Y1Alg_fonAff5.ex2.q3': '3) Ø§Ø±Ø³Ù… Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ…ÙŠÙ†',
                'MH.lesson_Y1Alg_fonAff5.ex2.q4': '4) Ø­Ù„ g(x) = h(x)',
                // Exercise 3
                'MH.lesson_Y1Alg_fonAff5.ex3.title': 'ØªØ§Ø³Ø¹Ø§Ù‹: ØªÙ…Ø±ÙŠÙ† 3 â€“ Ù…ÙƒØ¹Ø¨ ÙŠØ¨Ø³Ø·',
                'MH.lesson_Y1Alg_fonAff5.ex3.statement': 'Ù„ØªÙƒÙ† \\(p(x) = (2x+1)^3 - 8x^3 - 12x^2\\).<br>1) Ø§Ù†Ø´Ø± \\((2x+1)^3\\) Ø¨Ø¯Ù‚Ø©ØŒ Ø«Ù… Ø§Ø·Ø±Ø­ \\(8x^3\\) Ùˆ \\(12x^2\\). Ø¨ÙŠÙ‘Ù† Ø£Ù†Ù‡ Ù„Ø§ ÙŠØ¨Ù‚Ù‰ Ø¥Ù„Ø§ Ø¬Ø²Ø¡ ØªØ¢Ù„ÙÙŠ.<br>2) Ø§ÙƒØªØ¨ \\(p(x)\\) Ø¹Ù„Ù‰ Ø´ÙƒÙ„ \\(ax+b\\). Ù…Ø§ Ù‡Ù…Ø§ \\(a\\) Ùˆ \\(b\\)ØŸ<br>3) Ø­Ù„ \\(p(x) = 7\\).<br>4) Ø§Ø±Ø³Ù… ØªÙ…Ø«ÙŠÙ„ \\(p\\) Ù„Ù€ \\(x\\) Ø¨ÙŠÙ† -2 Ùˆ 2 ÙˆØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ù„Ùƒ.',
                'MH.lesson_Y1Alg_fonAff5.ex3.canvasTitle': 'Ø§Ù„Ø´ÙƒÙ„ 3: p(x) = 6x+1 (ØªØ¢Ù„ÙÙŠ!)',
                'MH.lesson_Y1Alg_fonAff5.ex3.canvasInstructions': 'Ù…Ø³ØªÙ‚ÙŠÙ… y = 6x+1ØŒ Ù…ÙŠÙ„Ù‡ 6ØŒ ØªÙ‚Ø§Ø·Ø¹ 1. Ø§Ù„ØªÙ‚Ø§Ø·Ø¹ Ù…Ø¹ y=7 Ø¹Ù†Ø¯ x=1.',
                'MH.lesson_Y1Alg_fonAff5.ex3.q1': '1) Ø§Ù†Ø´Ø± ÙˆØ¨Ø³Ø·',
                'MH.lesson_Y1Alg_fonAff5.ex3.q2': '2) Ø§Ù„ØµÙŠØºØ© Ø§Ù„ØªØ¢Ù„ÙÙŠØ©ØŒ aØŒ b',
                'MH.lesson_Y1Alg_fonAff5.ex3.q3': '3) Ø­Ù„ p(x)=7',
                'MH.lesson_Y1Alg_fonAff5.ex3.q4': '4) Ø§Ù„ØªÙ…Ø«ÙŠÙ„',
                // Exercise 4
                'MH.lesson_Y1Alg_fonAff5.ex4.title': 'ØªØ§Ø³Ø¹Ø§Ù‹: ØªÙ…Ø±ÙŠÙ† 4 â€“ Ù…Ø³ØªÙ‚ÙŠÙ…Ø§Ù†ØŒ ØªÙ‚Ø§Ø·Ø¹ ÙˆÙ…Ù‚Ø§Ø±Ù†Ø©',
                'MH.lesson_Y1Alg_fonAff5.ex4.statement': 'Ù†Ø¹Ø±Ù \\(f(x) = (3x+2)^2 - (3x-2)^2\\) Ùˆ \\(g(x) = (x+4)^2 - (x-4)^2\\).<br>1) Ø¨Ø³Ø· ÙƒÙ„ Ø¯Ø§Ù„Ø©. ØªØ­Ù‚Ù‚ Ø£Ù†Ù‡Ù…Ø§ ØªØ¢Ù„ÙÙŠØªØ§Ù†.<br>2) Ø¬Ø¯ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ù†Ù‚Ø·Ø© ØªÙ‚Ø§Ø·Ø¹ Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ…ÙŠÙ†.<br>3) Ø­Ù„ Ø§Ù„Ù…ØªØ±Ø§Ø¬Ø­Ø© \\(f(x) \\ge g(x)\\). ÙØ³Ù‘Ø± Ø¹Ù„Ù‰ Ø§Ù„ØªÙ…Ø«ÙŠÙ„.',
                'MH.lesson_Y1Alg_fonAff5.ex4.canvasTitle': 'Ø§Ù„Ø´ÙƒÙ„ 4: f(x)=24x ØŒ g(x)=16x',
                'MH.lesson_Y1Alg_fonAff5.ex4.canvasInstructions': 'ÙƒÙ„Ø§Ù‡Ù…Ø§ ÙŠÙ…Ø± Ø¨Ø§Ù„Ø£ØµÙ„. f Ø£ÙƒØ«Ø± Ø§Ù†Ø­Ø¯Ø§Ø±Ø§Ù‹. f â‰¥ g Ù…Ù† Ø£Ø¬Ù„ x â‰¥ 0.',
                'MH.lesson_Y1Alg_fonAff5.ex4.q1': '1) Ø¨Ø³Ø· f Ùˆ g',
                'MH.lesson_Y1Alg_fonAff5.ex4.q2': '2) Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙ‚Ø§Ø·Ø¹',
                'MH.lesson_Y1Alg_fonAff5.ex4.q3': '3) Ø­Ù„ f(x) â‰¥ g(x)',
                // Exercise 5
                'MH.lesson_Y1Alg_fonAff5.ex5.title': 'ØªØ§Ø³Ø¹Ø§Ù‹: ØªÙ…Ø±ÙŠÙ† 5 â€“ ÙˆØ§Ù‚Ø¹ÙŠ: Ø­Ø¯ÙŠÙ‚Ø© ÙˆØ¨Ø±ÙƒØ©',
                'MH.lesson_Y1Alg_fonAff5.ex5.statement': 'Ø­Ø¯ÙŠÙ‚Ø© Ù…Ø±Ø¨Ø¹Ø© Ø§Ù„Ø´ÙƒÙ„ Ø·ÙˆÙ„ Ø¶Ù„Ø¹Ù‡Ø§ \\(x+3\\) Ù…ØªØ±. Ø¯Ø§Ø®Ù„Ù‡Ø§ Ø¨Ø±ÙƒØ© Ù…Ø±Ø¨Ø¹Ø© Ø·ÙˆÙ„ Ø¶Ù„Ø¹Ù‡Ø§ \\(x\\) Ù…ØªØ±. Ø§Ù„Ø¨Ø§Ù‚ÙŠ Ø¹Ø´Ø¨.<br>1) Ø¹Ø¨Ø± Ø¹Ù† Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ø´Ø¨ \\(A(x)\\) Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø³Ø·. Ø¨ÙŠÙ‘Ù† Ø£Ù†Ù‡Ø§ Ø¯Ø§Ù„Ø© ØªØ¢Ù„ÙÙŠØ©.<br>2) Ù…Ø§ Ù‡Ù…Ø§ Ø§Ù„Ù…ÙŠÙ„ ÙˆØªÙ‚Ø§Ø·Ø¹ Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠØŸ Ù…Ø§Ø°Ø§ ÙŠØ¹Ø¨Ù‘Ø±Ø§Ù†ØŸ<br>3) ÙŠØ±ÙŠØ¯ ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø© Ù…Ø³Ø§Ø­Ø© Ø¹Ø´Ø¨ Ù„Ø§ ØªÙ‚Ù„ Ø¹Ù† 50 Ù…Â². Ø­Ù„ \\(A(x) \\ge 50\\) ÙˆØ£Ø¹Ø· Ø£ØµØºØ± Ø·ÙˆÙ„ Ù…Ù…ÙƒÙ† Ù„Ø¶Ù„Ø¹ Ø§Ù„Ø¨Ø±ÙƒØ© (Ø¥Ù„Ù‰ Ø¹Ø´Ø±).<br>4) Ø§Ø±Ø³Ù… ØªÙ…Ø«ÙŠÙ„ \\(A(x)\\) Ù…Ù† Ø£Ø¬Ù„ \\(0 \\le x \\le 10\\) ÙˆÙ„ÙˆÙ† Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø­Ù„.',
                'MH.lesson_Y1Alg_fonAff5.ex5.canvasTitle': 'Ø§Ù„Ø´ÙƒÙ„ 5: Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ø´Ø¨ A(x) = 6x+9',
                'MH.lesson_Y1Alg_fonAff5.ex5.canvasInstructions': 'Ù…Ø³ØªÙ‚ÙŠÙ… Ù…ÙŠÙ„Ù‡ 6ØŒ ÙˆØªÙ‚Ø§Ø·Ø¹ 9. Ù…Ø³Ø§Ø­Ø© â‰¥ 50 Ø¹Ù†Ø¯Ù…Ø§ x â‰¥ 6.833',
                'MH.lesson_Y1Alg_fonAff5.ex5.q1': '1) Ø¨Ø³Ø· A(x)',
                'MH.lesson_Y1Alg_fonAff5.ex5.q2': '2) Ø§Ù„Ù…ÙŠÙ„ØŒ Ø§Ù„ØªÙ‚Ø§Ø·Ø¹ØŒ Ø§Ù„Ù…Ø¹Ù†Ù‰',
                'MH.lesson_Y1Alg_fonAff5.ex5.q3': '3) Ø­Ù„ A(x) â‰¥ 50',
                'MH.lesson_Y1Alg_fonAff5.ex5.q4': '4) Ø§Ù„ØªÙ…Ø«ÙŠÙ„ ÙˆØ§Ù„ØªÙ„ÙˆÙŠÙ†',
                // Summary
                'MH.lesson_Y1Alg_fonAff5.summary': 'Ù…Ù„Ø®Øµ â€“ Ù…Ø§ ØªØ¹Ù„Ù…Ù†Ø§Ù‡',
                'MH.lesson_Y1Alg_fonAff5.summary1': '\\((x+a)^2 - (x+b)^2\\) ØªØ¨Ø³Ø· Ø¥Ù„Ù‰ \\(2(a-b)x + (a^2-b^2)\\) â†’ ØªØ¢Ù„ÙÙŠØ©.',
                'MH.lesson_Y1Alg_fonAff5.summary2': '\\sqrt{(Ø®Ø·ÙŠ)^2} = |Ø®Ø·ÙŠ|; Ù…Ø¹ Ù…Ø¬Ø§Ù„ Ù…Ù†Ø§Ø³Ø¨ ØªØµØ¨Ø­ Ø®Ø·ÙŠØ© (ØªØ¢Ù„ÙÙŠØ©) Ù…Ø­Ø¶Ø©.',
                'MH.lesson_Y1Alg_fonAff5.summary3': 'Ù…ÙƒØ¹Ø¨ Ø¨Ø§Ø®ØªÙŠØ§Ø± Ø°ÙƒÙŠ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠØ®ÙÙŠ Ø¬Ø²Ø¡Ø§Ù‹ ØªØ¢Ù„ÙÙŠØ§Ù‹: \\((2x+1)^3 - 8x^3 -12x^2 = 6x+1\\).',
                'MH.lesson_Y1Alg_fonAff5.summary4': 'Ù…Ø³ØªÙ‚ÙŠÙ…Ø§Ù† ØªØ¢Ù„ÙÙŠØ§Ù† ÙŠØªÙ‚Ø§Ø·Ø¹Ø§Ù† ÙÙŠ Ù†Ù‚Ø·Ø© ÙˆØ§Ø­Ø¯Ø© (Ù…Ø§ Ù„Ù… ÙŠØªÙˆØ§Ø²ÙŠØ§). Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© f â‰¥ g ØªØ¹Ù†ÙŠ x ÙÙŠ Ø¬Ù‡Ø© Ù…Ù† Ø§Ù„ØªÙ‚Ø§Ø·Ø¹.',
                'MH.lesson_Y1Alg_fonAff5.summary5': 'Ù…ÙˆØ§Ù‚Ù Ø­Ù‚ÙŠÙ‚ÙŠØ© (Ù…Ø³Ø§Ø­Ø©ØŒ Ø±Ø¨Ø­) ØºØ§Ù„Ø¨Ø§Ù‹ Ù…Ø§ ØªØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø¯ÙˆØ§Ù„ ØªØ¢Ù„ÙÙŠØ© Ù…Ø®Ø¨Ø£Ø© â€“ Ø§Ù„Ù…ÙŠÙ„ ÙŠØ¹Ø·ÙŠ Ø§Ù„Ø²ÙŠØ§Ø¯Ø© Ù„ÙƒÙ„ ÙˆØ­Ø¯Ø©.',
                // Footer
                'MH.footer.developer': 'Ø§Ù„Ù…Ø·ÙˆØ±',
                'MH.footer.version': 'Ø§Ù„Ø¥ØµØ¯Ø§Ø±',
                'MH.footer.links': 'Ø±ÙˆØ§Ø¨Ø·',
                'MH.footer.terms': 'Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…',
                'MH.footer.privacy': 'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©',
                // Arabic detailed solutions (String.raw with Arabic text + LaTeX)
                'MH.lesson_Y1Alg_fonAff5.ex1.sol1': String.raw`<strong>Ø§Ù„Ø­Ù„ 1 â€“ Ø§Ù„ØªØ¨Ø³ÙŠØ·:</strong><br>\((x+5)^2 = x^2 + 10x + 25\)ØŒ \((x-3)^2 = x^2 - 6x + 9\).<br>Ø¨Ø§Ù„Ø·Ø±Ø­: \(f(x) = (x^2+10x+25) - (x^2-6x+9) = x^2+10x+25-x^2+6x-9 = 16x+16\).`,
                'MH.lesson_Y1Alg_fonAff5.ex1.sol2': String.raw`<strong>Ø§Ù„Ù…ÙŠÙ„ ÙˆØ§Ù„ØªÙ‚Ø§Ø·Ø¹:</strong><br>\(f(x)=16x+16\) â‡’ Ø§Ù„Ù…ÙŠÙ„ = 16ØŒ ØªÙ‚Ø§Ø·Ø¹ y = 16.`,
                'MH.lesson_Y1Alg_fonAff5.ex1.sol4': String.raw`<strong>Ø­Ù„ f(x)=10:</strong><br>\(16x+16 = 10\) â†’ \(16x = -6\) â†’ \(x = -\frac{3}{8} = -0.375\).`,
                'MH.lesson_Y1Alg_fonAff5.ex2.sol1': String.raw`<strong>ØªØ¨Ø³ÙŠØ· g Ùˆ h:</strong><br>\(\sqrt{(4x+8)^2}=|4x+8|\). Ù„Ù€ \(x\ge -2\)ØŒ \(4x+8\ge0\) Ø¥Ø°Ù† \(g(x)=4x+8\).<br>\(\sqrt{(9-3x)^2}=|9-3x|\). Ù„Ù€ \(x\le 3\)ØŒ \(9-3x\ge0\) Ø¥Ø°Ù† \(h(x)=9-3x\).`,
                'MH.lesson_Y1Alg_fonAff5.ex2.sol2': String.raw`<strong>Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª:</strong><br>\(g(x)=12\) â† \(4x+8=12\) â† \(x=1\).<br>\(h(x)=6\) â† \(9-3x=6\) â† \(x=1\).`,
                'MH.lesson_Y1Alg_fonAff5.ex2.sol4': String.raw`<strong>Ø­Ù„ g(x)=h(x):</strong><br>\(4x+8 = 9-3x\) â†’ \(7x=1\) â†’ \(x=\frac17\).`,
                'MH.lesson_Y1Alg_fonAff5.ex3.sol1': String.raw`<strong>Ø§Ù„Ù†Ø´Ø± ÙˆØ§Ù„ØªØ¨Ø³ÙŠØ·:</strong><br>\((2x+1)^3 = 8x^3 + 12x^2 + 6x + 1\). Ù†Ø·Ø±Ø­ \(8x^3\) Ùˆ \(12x^2\): \(p(x)=6x+1\).`,
                'MH.lesson_Y1Alg_fonAff5.ex3.sol2': String.raw`<strong>Ø§Ù„ØµÙŠØºØ© Ø§Ù„ØªØ¢Ù„ÙÙŠØ©:</strong> \(a=6, b=1\).`,
                'MH.lesson_Y1Alg_fonAff5.ex3.sol3': String.raw`<strong>Ø­Ù„ p(x)=7:</strong> \(6x+1=7\) â†’ \(x=1\).`,
                'MH.lesson_Y1Alg_fonAff5.ex4.sol1': String.raw`<strong>ØªØ¨Ø³ÙŠØ· f Ùˆ g:</strong><br>\(f(x)=24x\)ØŒ \(g(x)=16x\).`,
                'MH.lesson_Y1Alg_fonAff5.ex4.sol2': String.raw`<strong>Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙ‚Ø§Ø·Ø¹:</strong> \(24x=16x\) â†’ \(x=0\)ØŒ \(y=0\).`,
                'MH.lesson_Y1Alg_fonAff5.ex4.sol3': String.raw`<strong>Ø­Ù„ f(x) â‰¥ g(x):</strong> \(24x \ge 16x\) â†’ \(8x \ge 0\) â†’ \(x \ge 0\).`,
                'MH.lesson_Y1Alg_fonAff5.ex5.sol1': String.raw`<strong>Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ø´Ø¨:</strong> \((x+3)^2 - x^2 = 6x+9\).`,
                'MH.lesson_Y1Alg_fonAff5.ex5.sol2': String.raw`<strong>Ø§Ù„Ù…ÙŠÙ„ ÙˆØ§Ù„ØªÙ‚Ø§Ø·Ø¹:</strong> Ø§Ù„Ù…ÙŠÙ„ 6ØŒ Ø§Ù„ØªÙ‚Ø§Ø·Ø¹ 9. ÙƒÙ„ Ø²ÙŠØ§Ø¯Ø© 1Ù… ÙÙŠ Ø¶Ù„Ø¹ Ø§Ù„Ø¨Ø±ÙƒØ© ØªØ²ÙŠØ¯ Ø§Ù„Ø¹Ø´Ø¨ 6Ù…Â²ØŒ ÙˆØ¥Ø°Ø§ ÙƒØ§Ù† Ø¶Ù„Ø¹ Ø§Ù„Ø¨Ø±ÙƒØ© 0 ÙØ§Ù„Ø¹Ø´Ø¨ 9Ù…Â².`,
                'MH.lesson_Y1Alg_fonAff5.ex5.sol3': String.raw`<strong>Ø­Ù„ A(x) â‰¥ 50:</strong> \(6x+9 \ge 50\) â†’ \(6x \ge 41\) â†’ \(x \ge 6.833\).`,
            },
            fr: {
                // French translations â€“ complete set
                'MH.general.title': 'Mathematics Hub',
                'MH.general.theme': 'ThÃ¨me',
                'MH.general.language': 'Langue',
                'MH.general.enableNotifications': 'Activer les notifications',
                'MH.lesson_Y1Alg_fonAff5.showSolution': 'Afficher la solution',
                'MH.lesson_Y1Alg_fonAff5.hideSolution': 'Masquer la solution',
                'MH.lesson_Y1Alg_fonAff5.showConstruction': 'Afficher la construction',
                'MH.lesson_Y1Alg_fonAff5.title': 'Fonctions affines : Partie V',
                'MH.lesson_Y1Alg_fonAff5.subtitle': 'Approfondissement â€“ carrÃ©s, cubes, racines carrÃ©es â†’ affine',
                'MH.lesson_Y1Alg_fonAff5.introduction': 'Introduction',
                'MH.lesson_Y1Alg_fonAff5.introText1': 'Dans cette cinquiÃ¨me partie, nous continuons Ã  dÃ©couvrir des fonctions affines cachÃ©es dans des expressions plus Ã©laborÃ©es : diffÃ©rences de carrÃ©s, cubes qui annulent le terme quadratique, et racines carrÃ©es qui deviennent de simples droites. Chaque calcul est dÃ©taillÃ© pas Ã  pas. Pas de raccourcis â€“ nous voulons que vous compreniez chaque transformation.',
                'MH.lesson_Y1Alg_fonAff5.introText2': 'Nous rÃ©soudrons Ã©galement des Ã©quations et inÃ©quations, et verrons comment ces fonctions apparaissent dans des situations quotidiennes. Prenez votre temps ; les solutions sont extrÃªmement dÃ©taillÃ©es.',
                // Exercise 1
                'MH.lesson_Y1Alg_fonAff5.ex1.title': 'IX. Exercice 1 â€“ DiffÃ©rence de deux carrÃ©s',
                'MH.lesson_Y1Alg_fonAff5.ex1.statement': 'Soit \\(f(x) = (x+5)^2 - (x-3)^2\\).<br>1) DÃ©velopper et rÃ©duire. Montrer que \\(f\\) est affine (lâ€™Ã©crire sous la forme \\(ax+b\\)).<br>2) Donner le coefficient directeur et lâ€™ordonnÃ©e Ã  lâ€™origine.<br>3) Tracer la reprÃ©sentation graphique de \\(f\\) pour \\(x\\) compris entre \\(-4\\) et \\(2\\).<br>4) RÃ©soudre algÃ©briquement : \\(f(x) = 10\\). VÃ©rifier graphiquement.',
                'MH.lesson_Y1Alg_fonAff5.ex1.canvasTitle': 'Figure 1 : Graphe de f(x) = (x+5)Â² â€“ (x-3)Â² = 16x+16',
                'MH.lesson_Y1Alg_fonAff5.ex1.canvasInstructions': 'Droite y = 16x+16, pente 16, ordonnÃ©e 16. Intersection avec y=10 marquÃ©e.',
                'MH.lesson_Y1Alg_fonAff5.ex1.q1': '1) DÃ©velopper et rÃ©duire f(x)',
                'MH.lesson_Y1Alg_fonAff5.ex1.q2': '2) Pente et ordonnÃ©e',
                'MH.lesson_Y1Alg_fonAff5.ex1.q3': '3) TracÃ©',
                'MH.lesson_Y1Alg_fonAff5.ex1.q4': '4) RÃ©soudre f(x)=10',
                // Exercise 2
                'MH.lesson_Y1Alg_fonAff5.ex2.title': 'IX. Exercice 2 â€“ Racines carrÃ©es qui deviennent des droites',
                'MH.lesson_Y1Alg_fonAff5.ex2.statement': 'On considÃ¨re les deux fonctions :<br>\\(g(x) = \\sqrt{(4x+8)^2}\\) pour \\(x \\ge -2\\) &nbsp;&nbsp; et &nbsp;&nbsp; \\(h(x) = \\sqrt{(9-3x)^2}\\) pour \\(x \\le 3\\).<br>1) Simplifier \\(g(x)\\) et \\(h(x)\\). Sont-elles affines ? Ã‰crire chacune sous la forme \\(ax+b\\).<br>2) RÃ©soudre \\(g(x) = 12\\) et \\(h(x) = 6\\).<br>3) Tracer les deux droites sur le mÃªme graphique (domaines appropriÃ©s).<br>4) Pour quel \\(x\\) a-t-on \\(g(x) = h(x)\\) ?',
                'MH.lesson_Y1Alg_fonAff5.ex2.canvasTitle': 'Figure 2 : g(x)=4x+8 (xâ‰¥â€“2) ; h(x)=9â€“3x (xâ‰¤3)',
                'MH.lesson_Y1Alg_fonAff5.ex2.canvasInstructions': 'Intersection en x = 1/7 â‰ˆ 0,1429, y â‰ˆ 8,571.',
                'MH.lesson_Y1Alg_fonAff5.ex2.q1': '1) Simplifier g et h',
                'MH.lesson_Y1Alg_fonAff5.ex2.q2': '2) RÃ©soudre les Ã©quations',
                'MH.lesson_Y1Alg_fonAff5.ex2.q3': '3) Tracer les droites',
                'MH.lesson_Y1Alg_fonAff5.ex2.q4': '4) RÃ©soudre g(x) = h(x)',
                // Exercise 3
                'MH.lesson_Y1Alg_fonAff5.ex3.title': 'IX. Exercice 3 â€“ Un cube qui se simplifie',
                'MH.lesson_Y1Alg_fonAff5.ex3.statement': 'Soit \\(p(x) = (2x+1)^3 - 8x^3 - 12x^2\\).<br>1) DÃ©velopper \\((2x+1)^3\\) soigneusement, puis soustraire \\(8x^3\\) et \\(12x^2\\). Montrer quâ€™il ne reste quâ€™une partie affine.<br>2) Ã‰crire \\(p(x)\\) sous la forme \\(ax+b\\). Que valent \\(a\\) et \\(b\\) ?<br>3) RÃ©soudre \\(p(x) = 7\\).<br>4) Tracer la reprÃ©sentation graphique de \\(p\\) pour \\(x\\) entre \\(-2\\) et \\(2\\) et vÃ©rifier votre solution.',
                'MH.lesson_Y1Alg_fonAff5.ex3.canvasTitle': 'Figure 3 : p(x) = 6x+1 (affine !)',
                'MH.lesson_Y1Alg_fonAff5.ex3.canvasInstructions': 'Droite y = 6x+1, pente 6, ordonnÃ©e 1. Intersection avec y=7 en x=1.',
                'MH.lesson_Y1Alg_fonAff5.ex3.q1': '1) DÃ©velopper et rÃ©duire',
                'MH.lesson_Y1Alg_fonAff5.ex3.q2': '2) Forme affine, a, b',
                'MH.lesson_Y1Alg_fonAff5.ex3.q3': '3) RÃ©soudre p(x)=7',
                'MH.lesson_Y1Alg_fonAff5.ex3.q4': '4) TracÃ©',
                // Exercise 4
                'MH.lesson_Y1Alg_fonAff5.ex4.title': 'IX. Exercice 4 â€“ Deux droites, intersection et comparaison',
                'MH.lesson_Y1Alg_fonAff5.ex4.statement': 'On dÃ©finit \\(f(x) = (3x+2)^2 - (3x-2)^2\\) et \\(g(x) = (x+4)^2 - (x-4)^2\\).<br>1) Simplifier chaque fonction. VÃ©rifier quâ€™elles sont affines.<br>2) Trouver les coordonnÃ©es du point dâ€™intersection des deux droites.<br>3) RÃ©soudre lâ€™inÃ©quation \\(f(x) \\ge g(x)\\). InterprÃ©ter graphiquement.',
                'MH.lesson_Y1Alg_fonAff5.ex4.canvasTitle': 'Figure 4 : f(x)=24x , g(x)=16x',
                'MH.lesson_Y1Alg_fonAff5.ex4.canvasInstructions': 'Les deux passent par lâ€™origine. f plus pentue. f â‰¥ g pour x â‰¥ 0.',
                'MH.lesson_Y1Alg_fonAff5.ex4.q1': '1) Simplifier f et g',
                'MH.lesson_Y1Alg_fonAff5.ex4.q2': '2) Intersection',
                'MH.lesson_Y1Alg_fonAff5.ex4.q3': '3) RÃ©soudre f(x) â‰¥ g(x)',
                // Exercise 5
                'MH.lesson_Y1Alg_fonAff5.ex5.title': 'IX. Exercice 5 â€“ RÃ©el : jardin et piscine',
                'MH.lesson_Y1Alg_fonAff5.ex5.statement': 'Un jardin rectangulaire est un carrÃ© de cÃ´tÃ© \\(x+3\\) mÃ¨tres. Ã€ lâ€™intÃ©rieur se trouve une piscine carrÃ©e de cÃ´tÃ© \\(x\\) mÃ¨tres. Le reste est pelouse.<br>1) Exprimer lâ€™aire de la pelouse \\(A(x)\\) sous forme dÃ©veloppÃ©e. Simplifier : elle devient une fonction affine.<br>2) Donner le coefficient directeur et lâ€™ordonnÃ©e Ã  lâ€™origine. Que signifient-ils ?<br>3) Le propriÃ©taire veut une pelouse dâ€™au moins 50 mÂ². RÃ©soudre \\(A(x) \\ge 50\\) et donner le plus petit cÃ´tÃ© possible de la piscine (au dixiÃ¨me).<br>4) Tracer la reprÃ©sentation graphique de \\(A(x)\\) pour \\(0 \\le x \\le 10\\) et colorier lâ€™ensemble solution.',
                'MH.lesson_Y1Alg_fonAff5.ex5.canvasTitle': 'Figure 5 : Aire de la pelouse A(x) = 6x+9',
                'MH.lesson_Y1Alg_fonAff5.ex5.canvasInstructions': 'Droite de pente 6, ordonnÃ©e 9. Pelouse â‰¥ 50 quand x â‰¥ 6,833.',
                'MH.lesson_Y1Alg_fonAff5.ex5.q1': '1) Simplifier A(x)',
                'MH.lesson_Y1Alg_fonAff5.ex5.q2': '2) Pente, ordonnÃ©e, signification',
                'MH.lesson_Y1Alg_fonAff5.ex5.q3': '3) RÃ©soudre A(x) â‰¥ 50',
                'MH.lesson_Y1Alg_fonAff5.ex5.q4': '4) TracÃ© et coloriage',
                // Summary
                'MH.lesson_Y1Alg_fonAff5.summary': 'RÃ©sumÃ© â€“ ce que nous avons appris',
                'MH.lesson_Y1Alg_fonAff5.summary1': '\\((x+a)^2 - (x+b)^2\\) se simplifie en \\(2(a-b)x + (a^2-b^2)\\) â†’ affine.',
                'MH.lesson_Y1Alg_fonAff5.summary2': '\\sqrt{(linÃ©aire)^2} = |linÃ©aire| ; avec un domaine adaptÃ©, cela devient une fonction linÃ©aire (affine).',
                'MH.lesson_Y1Alg_fonAff5.summary3': 'Un cube bien choisi peut cacher une partie affine : \\((2x+1)^3 - 8x^3 -12x^2 = 6x+1\\).',
                'MH.lesson_Y1Alg_fonAff5.summary4': 'Deux droites affines se coupent en un point (sauf parallÃ¨les). Comparer f â‰¥ g revient Ã  considÃ©rer x dâ€™un cÃ´tÃ© de lâ€™intersection.',
                'MH.lesson_Y1Alg_fonAff5.summary5': 'Des situations rÃ©elles (aire, bÃ©nÃ©fice) se modÃ©lisent par de telles fonctions affines cachÃ©es â€“ la pente donne lâ€™augmentation par unitÃ©.',
                // Footer
                'MH.footer.developer': 'DÃ©veloppeur',
                'MH.footer.version': 'Version',
                'MH.footer.links': 'Liens',
                'MH.footer.terms': 'Conditions d\'utilisation',
                'MH.footer.privacy': 'Politique de confidentialitÃ©',
                // French detailed solutions (String.raw)
                'MH.lesson_Y1Alg_fonAff5.ex1.sol1': String.raw`<strong>Solution 1 â€“ Simplification :</strong><br>\((x+5)^2 = x^2 + 10x + 25\), \((x-3)^2 = x^2 - 6x + 9\).<br>Par soustraction : \(f(x) = (x^2+10x+25) - (x^2-6x+9) = x^2+10x+25 - x^2+6x-9 = 16x+16\).`,
                'MH.lesson_Y1Alg_fonAff5.ex1.sol2': String.raw`<strong>Solution 2 â€“ Pente et ordonnÃ©e :</strong><br>\(f(x)=16x+16\) â†’ pente \(16\), ordonnÃ©e Ã  lâ€™origine \(16\).`,
                'MH.lesson_Y1Alg_fonAff5.ex1.sol4': String.raw`<strong>Solution 4 â€“ RÃ©soudre f(x)=10 :</strong><br>\(16x+16 = 10\) â†’ \(16x = -6\) â†’ \(x = -\frac{3}{8} = -0,375\).`,
                'MH.lesson_Y1Alg_fonAff5.ex2.sol1': String.raw`<strong>Solution 1 â€“ Simplification :</strong><br>\(\sqrt{(4x+8)^2}=|4x+8|\). Pour \(x\ge -2\), \(4x+8\ge0\) donc \(g(x)=4x+8\).<br>\(\sqrt{(9-3x)^2}=|9-3x|\). Pour \(x\le 3\), \(9-3x\ge0\) donc \(h(x)=9-3x\).`,
                'MH.lesson_Y1Alg_fonAff5.ex2.sol2': String.raw`<strong>Solution 2 â€“ RÃ©soudre :</strong><br>\(g(x)=12\) â†’ \(4x+8=12\) â†’ \(x=1\).<br>\(h(x)=6\) â†’ \(9-3x=6\) â†’ \(x=1\).`,
                'MH.lesson_Y1Alg_fonAff5.ex2.sol4': String.raw`<strong>Solution 4 â€“ Ã‰galitÃ© :</strong><br>\(4x+8 = 9-3x\) â†’ \(7x=1\) â†’ \(x=1/7\).`,
                'MH.lesson_Y1Alg_fonAff5.ex3.sol1': String.raw`<strong>Solution 1 â€“ DÃ©veloppement :</strong><br>\((2x+1)^3 = 8x^3 + 12x^2 + 6x + 1\). On soustrait \(8x^3\) et \(12x^2\) : \(p(x)=6x+1\).`,
                'MH.lesson_Y1Alg_fonAff5.ex3.sol2': String.raw`<strong>Solution 2 â€“ Forme affine :</strong> \(a=6, b=1\).`,
                'MH.lesson_Y1Alg_fonAff5.ex3.sol3': String.raw`<strong>Solution 3 â€“ p(x)=7 :</strong> \(6x+1=7\) â†’ \(x=1\).`,
                'MH.lesson_Y1Alg_fonAff5.ex4.sol1': String.raw`<strong>Solution 1 â€“ Simplification :</strong><br>\(f(x)=24x\), \(g(x)=16x\).`,
                'MH.lesson_Y1Alg_fonAff5.ex4.sol2': String.raw`<strong>Solution 2 â€“ Intersection :</strong> \(24x=16x\) â†’ \(x=0\), \(y=0\).`,
                'MH.lesson_Y1Alg_fonAff5.ex4.sol3': String.raw`<strong>Solution 3 â€“ InÃ©quation :</strong> \(24x \ge 16x\) â†’ \(8x \ge 0\) â†’ \(x \ge 0\).`,
                'MH.lesson_Y1Alg_fonAff5.ex5.sol1': String.raw`<strong>Solution 1 â€“ Aire de la pelouse :</strong> \((x+3)^2 - x^2 = 6x+9\).`,
                'MH.lesson_Y1Alg_fonAff5.ex5.sol2': String.raw`<strong>Solution 2 â€“ Pente et ordonnÃ©e :</strong> pente 6, ordonnÃ©e 9. Chaque mÃ¨tre supplÃ©mentaire du cÃ´tÃ© de la piscine augmente la pelouse de 6 mÂ² ; si la piscine a un cÃ´tÃ© nul, la pelouse fait 9 mÂ².`,
                'MH.lesson_Y1Alg_fonAff5.ex5.sol3': String.raw`<strong>Solution 3 â€“ A(x) â‰¥ 50 :</strong> \(6x+9 \ge 50\) â†’ \(6x \ge 41\) â†’ \(x \ge 41/6 \approx 6,833\).`,
            }
        };

        // Merge translations
        if (typeof window.translations !== 'undefined') {
            Object.keys(fonAff5Translations).forEach(lang => {
                window.translations[lang] = { ...window.translations[lang], ...fonAff5Translations[lang] };
            });
        } else {
            window.translations = fonAff5Translations;
        }

        // ========== I18N, THEME, LANGUAGE ==========
        let currentLanguage = localStorage.getItem('MH-language') || 'en';
        document.documentElement.lang = currentLanguage;

        // Helper: get computed CSS variable color
        function getCSSVar(varName) {
            return getComputedStyle(document.documentElement).getPropertyValue(varName).trim() || '#000000';
        }

        function applyTranslations(lang) {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (window.translations[lang] && window.translations[lang][key]) {
                    el.innerHTML = window.translations[lang][key];
                }
            });
            // Set solution content for each exercise
            const solMap = {
                'ex1_sol1': 'MH.lesson_Y1Alg_fonAff5.ex1.sol1',
                'ex1_sol2': 'MH.lesson_Y1Alg_fonAff5.ex1.sol2',
                'ex1_sol4': 'MH.lesson_Y1Alg_fonAff5.ex1.sol4',
                'ex2_sol1': 'MH.lesson_Y1Alg_fonAff5.ex2.sol1',
                'ex2_sol2': 'MH.lesson_Y1Alg_fonAff5.ex2.sol2',
                'ex2_sol4': 'MH.lesson_Y1Alg_fonAff5.ex2.sol4',
                'ex3_sol1': 'MH.lesson_Y1Alg_fonAff5.ex3.sol1',
                'ex3_sol2': 'MH.lesson_Y1Alg_fonAff5.ex3.sol2',
                'ex3_sol3': 'MH.lesson_Y1Alg_fonAff5.ex3.sol3',
                'ex4_sol1': 'MH.lesson_Y1Alg_fonAff5.ex4.sol1',
                'ex4_sol2': 'MH.lesson_Y1Alg_fonAff5.ex4.sol2',
                'ex4_sol3': 'MH.lesson_Y1Alg_fonAff5.ex4.sol3',
                'ex5_sol1': 'MH.lesson_Y1Alg_fonAff5.ex5.sol1',
                'ex5_sol2': 'MH.lesson_Y1Alg_fonAff5.ex5.sol2',
                'ex5_sol3': 'MH.lesson_Y1Alg_fonAff5.ex5.sol3'
            };
            for (let [id, key] of Object.entries(solMap)) {
                const el = document.getElementById(id);
                if (el && window.translations[lang] && window.translations[lang][key]) {
                    el.innerHTML = window.translations[lang][key];
                }
            }
            // Update solution buttons text
            document.querySelectorAll('.MH-solution-btn').forEach(btn => {
                if (btn.textContent.includes('Show') || btn.textContent.includes('Afficher') || btn.textContent.includes('Ø¹Ø±Ø¶')) {
                    btn.textContent = window.translations[lang]['MH.lesson_Y1Alg_fonAff5.showSolution'] || 'Show Solution';
                }
            });
            if (typeof renderMathInElement !== 'undefined') {
                renderMathInElement(document.body, { delimiters: [{left: '$', right: '$', display: false}, {left: '\\(', right: '\\)', display: false}], throwOnError: false });
            }
            drawAllCanvases();
        }

        // Language selector
        const languageBtn = document.getElementById('languageBtn');
        const dropdown = document.getElementById('languageDropdown');
        if (languageBtn) {
            languageBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                dropdown.classList.toggle('show');
            });
            document.querySelectorAll('.MH-language-option').forEach(opt => {
                opt.addEventListener('click', (e) => {
                    e.preventDefault();
                    const lang = e.target.getAttribute('data-lang');
                    currentLanguage = lang;
                    localStorage.setItem('MH-language', lang);
                    document.documentElement.lang = lang;
                    applyTranslations(lang);
                    dropdown.classList.remove('show');
                });
            });
            document.addEventListener('click', () => { dropdown.classList.remove('show'); });
        }

        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        if (themeToggle) {
            themeToggle.addEventListener('click', function() {
                const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('MH-theme', newTheme);
                setTimeout(() => { drawAllCanvases(); }, 20);
            });
        }

        // ========== CANVAS DRAWING â€“ THEME AWARE ==========
        function toX(coord, width, minX, maxX) { return ((coord - minX) / (maxX - minX)) * width; }
        function toY(coord, height, minY, maxY) { return height - ((coord - minY) / (maxY - minY)) * height; }

        function drawGrid(ctx, w, h, minX, maxX, minY, maxY) {
            const borderColor = getCSSVar('--border');
            const textColor = getCSSVar('--text');
            ctx.strokeStyle = borderColor; ctx.lineWidth = 0.5;
            for (let i = Math.ceil(minX); i <= maxX; i++) {
                ctx.beginPath();
                ctx.moveTo(toX(i, w, minX, maxX), 0);
                ctx.lineTo(toX(i, w, minX, maxX), h);
                ctx.stroke();
            }
            for (let i = Math.ceil(minY); i <= maxY; i++) {
                ctx.beginPath();
                ctx.moveTo(0, toY(i, h, minY, maxY));
                ctx.lineTo(w, toY(i, h, minY, maxY));
                ctx.stroke();
            }
            ctx.strokeStyle = textColor; ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(toX(0, w, minX, maxX), 0);
            ctx.lineTo(toX(0, w, minX, maxX), h);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(0, toY(0, h, minY, maxY));
            ctx.lineTo(w, toY(0, h, minY, maxY));
            ctx.stroke();
        }

        let ex1Constructed = false, ex2Constructed = false, ex3Constructed = false, ex4Constructed = false, ex5Constructed = false;

        function drawExercise1() {
            const canvas = document.getElementById('ex1Canvas'); if (!canvas) return;
            const ctx = canvas.getContext('2d'); const w=600, h=400;
            ctx.clearRect(0,0,w,h);
            const minX=-4, maxX=2, minY=-20, maxY=40;
            drawGrid(ctx, w, h, minX, maxX, minY, maxY);
            // f(x)=16x+16
            ctx.beginPath(); ctx.strokeStyle = getCSSVar('--primary'); ctx.lineWidth = 3;
            ctx.moveTo(toX(-4,w,minX,maxX), toY(16*(-4)+16, h, minY, maxY));
            ctx.lineTo(toX(2,w,minX,maxX), toY(16*2+16, h, minY, maxY)); ctx.stroke();
            // y=10 horizontal
            ctx.beginPath(); ctx.strokeStyle = getCSSVar('--warning'); ctx.setLineDash([5,5]);
            ctx.moveTo(toX(-4,w,minX,maxX), toY(10, h, minY, maxY));
            ctx.lineTo(toX(2,w,minX,maxX), toY(10, h, minY, maxY)); ctx.stroke();
            ctx.setLineDash([]);
            // intersection
            ctx.fillStyle = getCSSVar('--warning');
            ctx.beginPath(); ctx.arc(toX(-0.375,w,minX,maxX), toY(10, h, minY, maxY), 6, 0, 2*Math.PI); ctx.fill();
            ctx.fillStyle = getCSSVar('--text');
            ctx.fillText('(-0.375,10)', toX(-0.375,w,minX,maxX)+10, toY(10, h, minY, maxY)-10);
            if (ex1Constructed) {
                ctx.fillStyle = getCSSVar('--primary') + '20';
                ctx.fillRect(0,0,w,h);
                ctx.fillStyle = getCSSVar('--text');
                ctx.fillText('Graph of f(x)=16x+16', 20, 50);
            }
        }

        function drawExercise2() {
            const canvas = document.getElementById('ex2Canvas'); if (!canvas) return;
            const ctx = canvas.getContext('2d'); const w=600, h=400;
            ctx.clearRect(0,0,w,h);
            const minX=-2, maxX=4, minY=-2, maxY=20;
            drawGrid(ctx, w, h, minX, maxX, minY, maxY);
            // g(x)=4x+8
            ctx.beginPath(); ctx.strokeStyle = getCSSVar('--accent'); ctx.lineWidth = 3;
            ctx.moveTo(toX(-2,w,minX,maxX), toY(4*(-2)+8, h, minY, maxY));
            ctx.lineTo(toX(4,w,minX,maxX), toY(4*4+8, h, minY, maxY)); ctx.stroke();
            // h(x)=9-3x
            ctx.beginPath(); ctx.strokeStyle = getCSSVar('--secondary'); ctx.lineWidth = 3;
            ctx.moveTo(toX(-2,w,minX,maxX), toY(9-3*(-2), h, minY, maxY));
            ctx.lineTo(toX(4,w,minX,maxX), toY(9-3*4, h, minY, maxY)); ctx.stroke();
            // intersection
            ctx.fillStyle = getCSSVar('--warning');
            ctx.beginPath(); ctx.arc(toX(1/7,w,minX,maxX), toY(4*(1/7)+8, h, minY, maxY), 6, 0, 2*Math.PI); ctx.fill();
            ctx.fillStyle = getCSSVar('--text');
            ctx.fillText('(1/7, 60/7)', toX(1/7,w,minX,maxX)+10, toY(60/7, h, minY, maxY)-10);
        }

        function drawExercise3() {
            const canvas = document.getElementById('ex3Canvas'); if (!canvas) return;
            const ctx = canvas.getContext('2d'); const w=600, h=400;
            ctx.clearRect(0,0,w,h);
            const minX=-2, maxX=2, minY=-5, maxY=15;
            drawGrid(ctx, w, h, minX, maxX, minY, maxY);
            // p(x)=6x+1
            ctx.beginPath(); ctx.strokeStyle = getCSSVar('--primary'); ctx.lineWidth = 3;
            ctx.moveTo(toX(-2,w,minX,maxX), toY(6*(-2)+1, h, minY, maxY));
            ctx.lineTo(toX(2,w,minX,maxX), toY(6*2+1, h, minY, maxY)); ctx.stroke();
            // y=7
            ctx.beginPath(); ctx.strokeStyle = getCSSVar('--warning'); ctx.setLineDash([5,5]);
            ctx.moveTo(toX(-2,w,minX,maxX), toY(7, h, minY, maxY));
            ctx.lineTo(toX(2,w,minX,maxX), toY(7, h, minY, maxY)); ctx.stroke();
            ctx.setLineDash([]);
            ctx.fillStyle = getCSSVar('--warning');
            ctx.beginPath(); ctx.arc(toX(1,w,minX,maxX), toY(7, h, minY, maxY), 6, 0, 2*Math.PI); ctx.fill();
            ctx.fillStyle = getCSSVar('--text');
            ctx.fillText('(1,7)', toX(1,w,minX,maxX)+10, toY(7, h, minY, maxY)-10);
        }

        function drawExercise4() {
            const canvas = document.getElementById('ex4Canvas'); if (!canvas) return;
            const ctx = canvas.getContext('2d'); const w=600, h=400;
            ctx.clearRect(0,0,w,h);
            const minX=-2, maxX=2, minY=-20, maxY=50;
            drawGrid(ctx, w, h, minX, maxX, minY, maxY);
            // f(x)=24x
            ctx.beginPath(); ctx.strokeStyle = getCSSVar('--primary'); ctx.lineWidth = 3;
            ctx.moveTo(toX(-2,w,minX,maxX), toY(24*(-2), h, minY, maxY));
            ctx.lineTo(toX(2,w,minX,maxX), toY(24*2, h, minY, maxY)); ctx.stroke();
            // g(x)=16x
            ctx.beginPath(); ctx.strokeStyle = getCSSVar('--secondary'); ctx.lineWidth = 3;
            ctx.moveTo(toX(-2,w,minX,maxX), toY(16*(-2), h, minY, maxY));
            ctx.lineTo(toX(2,w,minX,maxX), toY(16*2, h, minY, maxY)); ctx.stroke();
            // intersection (0,0)
            ctx.fillStyle = getCSSVar('--warning');
            ctx.beginPath(); ctx.arc(toX(0,w,minX,maxX), toY(0, h, minY, maxY), 6, 0, 2*Math.PI); ctx.fill();
            ctx.fillStyle = getCSSVar('--text');
            ctx.fillText('(0,0)', toX(0,w,minX,maxX)+10, toY(0, h, minY, maxY)-10);
            if (ex4Constructed) {
                ctx.fillStyle = getCSSVar('--primary') + '20';
                ctx.fillRect(toX(0,w,minX,maxX), 0, w, h);
                ctx.fillStyle = getCSSVar('--text');
                ctx.fillText('f(x) â‰¥ g(x) for x â‰¥ 0', 200, 50);
            }
        }

        function drawExercise5() {
            const canvas = document.getElementById('ex5Canvas'); if (!canvas) return;
            const ctx = canvas.getContext('2d'); const w=600, h=400;
            ctx.clearRect(0,0,w,h);
            const minX=0, maxX=10, minY=0, maxY=70;
            drawGrid(ctx, w, h, minX, maxX, minY, maxY);
            // A(x)=6x+9
            ctx.beginPath(); ctx.strokeStyle = getCSSVar('--primary'); ctx.lineWidth = 3;
            ctx.moveTo(toX(0,w,minX,maxX), toY(9, h, minY, maxY));
            ctx.lineTo(toX(10,w,minX,maxX), toY(6*10+9, h, minY, maxY)); ctx.stroke();
            // y=50
            ctx.beginPath(); ctx.strokeStyle = getCSSVar('--warning'); ctx.setLineDash([5,5]);
            ctx.moveTo(toX(0,w,minX,maxX), toY(50, h, minY, maxY));
            ctx.lineTo(toX(10,w,minX,maxX), toY(50, h, minY, maxY)); ctx.stroke();
            ctx.setLineDash([]);
            ctx.fillStyle = getCSSVar('--warning');
            ctx.beginPath(); ctx.arc(toX(41/6,w,minX,maxX), toY(50, h, minY, maxY), 6, 0, 2*Math.PI); ctx.fill();
            ctx.fillStyle = getCSSVar('--text');
            ctx.fillText('xâ‰ˆ6.83', toX(41/6,w,minX,maxX)+10, toY(50, h, minY, maxY)-10);
            if (ex5Constructed) {
                ctx.fillStyle = getCSSVar('--primary') + '20';
                ctx.fillRect(toX(41/6,w,minX,maxX), 0, w, h);
                ctx.fillStyle = getCSSVar('--text');
                ctx.fillText('A(x) â‰¥ 50 for x â‰¥ 6.83', 200, 50);
            }
        }

        function drawAllCanvases() { 
            drawExercise1(); 
            drawExercise2(); 
            drawExercise3(); 
            drawExercise4(); 
            drawExercise5(); 
        }

        window.constructExercise1 = function() { ex1Constructed = !ex1Constructed; drawExercise1(); };
        window.constructExercise2 = function() { ex2Constructed = !ex2Constructed; drawExercise2(); };
        window.constructExercise3 = function() { ex3Constructed = !ex3Constructed; drawExercise3(); };
        window.constructExercise4 = function() { ex4Constructed = !ex4Constructed; drawExercise4(); };
        window.constructExercise5 = function() { ex5Constructed = !ex5Constructed; drawExercise5(); };
        window.toggleSolution = function(id) {
            const sol = document.getElementById(id);
            if (sol.style.display === 'block') sol.style.display = 'none';
            else { 
                sol.style.display = 'block'; 
                if (typeof renderMathInElement !== 'undefined') 
                    renderMathInElement(sol, { delimiters: [{left:'$',right:'$',display:false},{left:'\\(',right:'\\)',display:false}], throwOnError: false });
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('MH-theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            applyTranslations(currentLanguage);
            drawAllCanvases();
            document.querySelectorAll('.MH-solution').forEach(el => el.style.display = 'none');
        });

        if ('serviceWorker' in navigator) { window.addEventListener('load', () => { navigator.serviceWorker.register('/sw.js').catch(()=>{}); }); }
    </script>
    <noscript><div class="MH-warning">JavaScript is recommended for interactive features.</div></noscript>
</body>
</html>